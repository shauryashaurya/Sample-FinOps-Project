# AWS Cost and Usage Report Generator Data Dictionary

This comprehensive document provides detailed descriptions for all files and columns generated by the AWS Cost and Usage Report Generator, including practical examples and usage guidance.

## Understanding Key Concepts

### Blended vs. Unblended Costs

**Definition:**
- **Unblended Costs**: The actual rates and costs paid for specific resources, reflecting true pricing including discounts, tiered pricing, and specific deals.
- **Blended Costs**: An average rate across all accounts in an AWS Organization, distributing the benefits of discounts (like Reserved Instances) across all accounts.

**Practical Usage:**
- Use **unblended costs** for accurate financial reporting, departmental charge-back, and precise cost optimization decisions
- Use **blended costs** for equitable internal cost allocation when benefits should be shared organization-wide

**Example Scenario:**
An organization purchases Reserved Instances (RIs) in Account A (Finance), but the instances run in Account B (Marketing):
- Account A shows a high **unblended cost** (RI purchase) but may show lower costs afterward
- Account B shows low **unblended costs** (benefits from RIs purchased elsewhere)
- **Blended costs** would distribute these benefits, showing a more even distribution
- If Marketing's actual usage was $10,000 but benefited from Finance's RIs resulting in $7,000 unblended cost, the blended cost might be $8,500

**Analysis Strategy:**
1. Compare blended and unblended costs to identify RI utilization patterns
2. Large discrepancies indicate potential for better RI planning or cost allocation
3. Use `cost_difference` and `discount_percent` to quantify benefits
4. Identify which accounts are subsidizing others (negative `cost_difference`) vs. benefiting (positive `cost_difference`)

### Chargeback and Showback Systems

**Definition:**
- **Chargeback**: Directly billing IT costs to business units/departments who "pay" from their budgets
- **Showback**: Reporting costs to business units without actual billing (costs remain centralized)

**Implementation Types:**
1. **Direct Chargeback**: Costs assigned directly to the consuming entity (e.g., EC2 instances tagged to Marketing)
2. **Proportional Allocation**: Shared costs distributed based on relative usage (e.g., 40% to Sales, 30% to Marketing)
3. **Equal Distribution**: Shared costs divided equally among entities (e.g., central security services)
4. **Tiered Allocation**: Different rates based on consumption levels (e.g., volume discounts)

**Practical Usage:**
- Use chargeback to drive accountability and optimize departmental spending
- Use showback when organizational culture doesn't support direct charging
- Use allocation methods based on shared service type:
  * Network/Security: Equal or proportional allocation
  * Storage/Compute: Direct or usage-based allocation
  * Management Tools: Equal allocation

**Example Scenario:**
For a shared data lake used by multiple departments:
- `CostAllocation`: "Shared"
- `AllocationMethod`: "proportional"
- `AllocationPercentages`: {"Analytics": 0.40, "Sales": 0.25, "ProductDevelopment": 0.20, "Finance": 0.15}
- Each department is charged a percentage of the total cost based on their established usage

### Tag Importance and Usage

Tags are critical for cost management, governance, and automation. Below are the key tag categories and their importance:

#### 1. Technical Tags
- **Importance**: Enable infrastructure management, automation, and technical decision-making
- **Primary Use**: Environment segregation, operational management
- **Example Value**: Setting `Environment: Production` enables special backup policies and restricted access

#### 2. Business Tags
- **Importance**: Critical for cost allocation, budgeting, and business alignment
- **Primary Use**: Chargeback/showback, project tracking, ownership
- **Example Value**: `CostCenter: Marketing-1001` enables charging costs to the Marketing department's budget

#### 3. Compliance Tags
- **Importance**: Essential for audit, regulatory compliance, and risk management
- **Primary Use**: Regulatory reporting, security controls, data governance
- **Example Value**: `Compliance:HIPAA: required` signals resources that must comply with healthcare data protection

#### 4. Automation Tags
- **Importance**: Enable systematic management, deployment, and operations
- **Primary Use**: CI/CD pipelines, scheduled tasks, infrastructure as code
- **Example Value**: `AutoScaling: enabled` allows resources to scale based on demand automatically

#### 5. FinOps Tags
- **Importance**: Critical for financial optimization, cost control, and efficiency
- **Primary Use**: Cost optimization initiatives, right-sizing recommendations
- **Example Value**: `OptimizationPriority: cost` prioritizes cost savings over performance for a resource

#### 6. Chargeback/Showback Tags
- **Importance**: Essential for internal cost allocation and financial management
- **Primary Use**: Departmental billing, cost transparency, budget management
- **Example Value**: `AllocationMethod: proportional` indicates costs should be split proportionally across departments

## Main Files

### 1. cost_and_usage_report.csv

Primary file containing AWS cost and usage data in the CUR format.

| Column | Description | Example Value |
|--------|-------------|---------------|
| `identity/LineItemId` | A unique identifier for a line item. | `li-0123456789abcdef0123456789abcdef` |
| `identity/TimeInterval` | The time period covered by this line item. | `2023-10-01T00:00:00Z/2023-10-02T00:00:00Z` |
| `bill/InvoiceId` | The ID of the invoice covering this line item. | `I-20231001` |
| `bill/BillingEntity` | The AWS selling entity that issued this line item. | `AWS` |
| `bill/BillType` | The type of bill. | `Anniversary` |
| `bill/PayerAccountId` | The account ID of the paying account (management account). | `111111111111` |
| `bill/BillingPeriodStartDate` | Billing period start date in UTC. | `2023-10-01T00:00:00Z` |
| `bill/BillingPeriodEndDate` | Billing period end date in UTC. | `2023-10-31T23:59:59Z` |
| `lineItem/UsageAccountId` | Account ID that used this line item. | `222200000001` |
| `lineItem/LineItemType` | Type of charge covered by this line item. | `Usage` |
| `lineItem/UsageStartDate` | When the usage started, in UTC. | `2023-10-01T08:00:00Z` |
| `lineItem/UsageEndDate` | When the usage ended, in UTC. | `2023-10-01T16:00:00Z` |
| `lineItem/ProductCode` | Code for the AWS product. | `AmazonEC2` |
| `lineItem/UsageType` | Usage details of the line item. | `USW2-BoxUsage:t2.micro` |
| `lineItem/Operation` | Specific AWS operation covered by this line item. | `RunInstances` |
| `lineItem/AvailabilityZone` | Availability Zone hosting this line item. | `us-west-2a` |
| `lineItem/ResourceId` | ID of the resource. | `i-0abc12345def67890` |
| `lineItem/UsageAmount` | Amount of usage incurred. | `8.0` |
| `lineItem/NormalizationFactor` | Factor used to normalize EC2 instance usage. | `0.5` |
| `lineItem/NormalizedUsageAmount` | Normalized usage amount. | `4.0` |
| `lineItem/CurrencyCode` | Currency code for the charge. | `USD` |
| `lineItem/UnblendedRate` | Actual rate without discounts or aggregations. | `0.0116` |
| `lineItem/UnblendedCost` | UnblendedRate × UsageAmount (actual cost). | `0.0928` |
| `lineItem/BlendedRate` | Average rate across all accounts. | `0.0125` |
| `lineItem/BlendedCost` | BlendedRate × UsageAmount. | `0.1000` |
| `lineItem/LineItemDescription` | Description of the line item. | `$0.0116 per On Demand Linux t2.micro Instance Hour` |
| `lineItem/TaxType` | Type of tax applied, if applicable. | `VAT` |
| `product/ProductName` | Full name of the AWS service. | `Amazon Elastic Compute Cloud` |
| `product/servicecode` | Code for the AWS service. | `ec2` |
| `product/region` | AWS region hosting this resource. | `us-west-2` |
| `pricing/unit` | Unit used to measure usage. | `Hrs` |
| `pricing/publicOnDemandCost` | Cost at the On-Demand rate. | `0.1000` |
| `pricing/publicOnDemandRate` | On-Demand rate for this line item. | `0.0125` |
| `pricing/term` | Term of the rate. | `OnDemand` |
| `pricing/offeringClass` | For Reserved Instances, the class of offering. | `Standard` |
| `month` | Year and month of the usage (added column). | `2023-10` |
| `project` | Project name from resource tags (added column). | `SkyConnectPassengerApp` |
| `business_unit` | Business unit for the project (added column). | `Aviation` |
| `chargeback_entity` | Entity responsible for the cost (added column). | `IT` |
| `allocation_method` | Method used to allocate costs (added column). | `direct` |
| `cost_difference` | BlendedCost - UnblendedCost (added column). | `0.0072` |
| `is_discounted` | Indicates if UnblendedCost < BlendedCost (added column). | `False` |

### 2. resource_tags.csv

Contains all resource tags for AWS resources.

| Column | Description | Example Value |
|--------|-------------|---------------|
| `resourceId` | The ID of the AWS resource. | `i-0abc12345def67890` |
| `key` | The tag key. | `Environment` |
| `value` | The tag value. | `Production` |

### 3. project_lifecycle_mapping.csv

Maps projects to their lifecycle patterns and provides additional project metadata.

| Column | Description | Example Value |
|--------|-------------|---------------|
| `project_name` | The name of the project. | `SkyConnectPassengerApp` |
| `lifecycle` | The lifecycle pattern assigned to the project. | `peak_and_plateau` |
| `business_unit` | The business unit that owns the project. | `Aviation` |
| `use_case` | The primary use case of the project. | `Mobile Applications` |
| `description` | A detailed description of the project. | `Mobile application for airline passengers providing flight information and services.` |
| `stages` | Comma-separated list of deployment stages. | `aviation-prod, aviation-dev` |
| `services` | Comma-separated list of AWS services used. | `Lambda, DynamoDB, APIGateway, Cognito, CloudFront, SNS, CloudWatchLogs, WAF` |

## Summary Reports

### 4. cost_summary_by_project.csv

Monthly cost summary aggregated by project.

| Column | Description | Example Value |
|--------|-------------|---------------|
| `month` | The year and month in YYYY-MM format. | `2023-10` |
| `project` | The project name. | `SkyConnectPassengerApp` |
| `lineItem/UnblendedCost` | Total unblended cost for the project. | `4275.62` |

**Usage Guidance**: 
- Track project spending trends over time
- Compare project costs against their allocated budgets
- Identify projects with unexpected cost growth for further investigation

### 5. cost_summary_by_service.csv

Monthly cost summary aggregated by AWS service.

| Column | Description | Example Value |
|--------|-------------|---------------|
| `month` | The year and month in YYYY-MM format. | `2023-10` |
| `lineItem/ProductCode` | The AWS service code. | `AmazonEC2` |
| `lineItem/UnblendedCost` | Total unblended cost for the service. | `12840.56` |

**Usage Guidance**:
- Identify services with highest cost contribution
- Track service-specific cost trends for optimization opportunities
- Validate service usage against architectural plans

### 6. cost_summary_by_business_unit.csv

Monthly cost summary aggregated by business unit.

| Column | Description | Example Value |
|--------|-------------|---------------|
| `month` | The year and month in YYYY-MM format. | `2023-10` |
| `business_unit` | The business unit name. | `Aviation` |
| `lineItem/UnblendedCost` | Total unblended cost for the business unit. | `28750.10` |

**Usage Guidance**:
- Allocate costs to organizational divisions
- Compare business unit spending against their budgets
- Analyze cost-to-revenue ratios by business unit

## Chargeback/Showback Reports

### 7. chargeback_by_entity.csv

Summarizes chargeback costs by entity (team, department) per month.

| Column | Description | Example Value |
|--------|-------------|---------------|
| `month` | The year and month in YYYY-MM format. | `2023-10` |
| `chargeback_entity` | Entity responsible for the cost. | `Engineering` |
| `lineItem/UnblendedCost` | Total unblended cost to be charged. | `18420.75` |

**Usage Guidance**:
- Generate monthly invoices for internal departments
- Track departmental spending against allocated budgets
- Provide finance department with cost allocation data

### 8. chargeback_by_service_entity.csv

Breaks down chargeback costs by AWS service and entity.

| Column | Description | Example Value |
|--------|-------------|---------------|
| `month` | The year and month in YYYY-MM format. | `2023-10` |
| `chargeback_entity` | Entity responsible for the cost. | `Engineering` |
| `lineItem/ProductCode` | The AWS service code. | `AmazonRDS` |
| `lineItem/UnblendedCost` | Total cost for this service-entity combination. | `3845.20` |

**Usage Guidance**:
- Provide detailed service breakdowns to departments
- Identify departmental usage patterns
- Target optimization recommendations to specific departments

### 9. showback_blended_comparison.csv

Compares blended and unblended costs for showback purposes.

| Column | Description | Example Value |
|--------|-------------|---------------|
| `month` | The year and month in YYYY-MM format. | `2023-10` |
| `chargeback_entity` | Entity responsible for the cost. | `IT` |
| `lineItem/UnblendedCost` | Total unblended cost charged to the entity. | `8762.45` |
| `lineItem/BlendedCost` | Total blended cost for the entity. | `9124.80` |
| `cost_difference` | Difference between blended and unblended costs. | `362.35` |
| `difference_percent` | Percentage difference between costs. | `4.13` |

**Usage Guidance**:
- Show departments the value of shared discounts
- Demonstrate the impact of organizational reservations
- Support decisions about centralized vs. distributed purchasing

### 10. cost_by_allocation_method.csv

Summarizes costs by allocation method used.

| Column | Description | Example Value |
|--------|-------------|---------------|
| `month` | The year and month in YYYY-MM format. | `2023-10` |
| `allocation_method` | Method used to allocate costs. | `proportional` |
| `lineItem/UnblendedCost` | Total cost allocated using this method. | `5482.30` |

**Usage Guidance**:
- Track how shared costs are being distributed
- Evaluate fairness of allocation methodologies
- Support decisions about allocation policy changes

## Blended/Unblended Analysis

### 11. blended_unblended_by_account.csv

Analyzes the impact of blended vs. unblended costs per AWS account.

| Column | Description | Example Value |
|--------|-------------|---------------|
| `lineItem/UsageAccountId` | The AWS account ID. | `444400000001` |
| `lineItem/UnblendedCost` | Total unblended cost for the account. | `24752.10` |
| `lineItem/BlendedCost` | Total blended cost for the account. | `22601.45` |
| `cost_difference` | Difference between blended and unblended costs. | `-2150.65` |
| `discount_percent` | Percentage discount from using blended rates. | `-8.69` |

**Usage Guidance**:
- Identify accounts receiving RI benefits (negative cost_difference)
- Find accounts paying premiums to subsidize others (positive cost_difference)
- Support decisions about RI purchases and account structure

### 12. blended_unblended_by_service.csv

Analyzes the impact of blended vs. unblended costs per AWS service.

| Column | Description | Example Value |
|--------|-------------|---------------|
| `lineItem/ProductCode` | The AWS service code. | `AmazonEC2` |
| `lineItem/UnblendedCost` | Total unblended cost for the service. | `48320.75` |
| `lineItem/BlendedCost` | Total blended cost for the service. | `48320.75` |
| `cost_difference` | Difference between blended and unblended costs. | `0.00` |
| `discount_percent` | Percentage discount from using blended rates. | `0.00` |

**Usage Guidance**:
- Identify services with highest RI impact
- Target services for future reservation purchases
- Compare discount effectiveness across services

### 13. top_blended_unblended_impact_resources.csv

Lists resources with the largest differences between blended and unblended costs.

| Column | Description | Example Value |
|--------|-------------|---------------|
| `lineItem/ResourceId` | The AWS resource ID. | `i-0123456789abcdef0` |
| `lineItem/UnblendedCost` | Total unblended cost for the resource. | `720.00` |
| `lineItem/BlendedCost` | Total blended cost for the resource. | `1100.00` |
| `cost_difference` | Difference between blended and unblended costs. | `380.00` |

**Usage Guidance**:
- Identify specific resources receiving the largest discounts
- Target resources for optimization
- Guide decisions about instance family standardization

### 14. blended_unblended_summary.json

JSON file containing summary statistics about blended vs. unblended costs.

| Field | Description | Example Value |
|-------|-------------|---------------|
| `total_unblended_cost` | Total unblended cost across all resources. | `125842.75` |
| `total_blended_cost` | Total blended cost across all resources. | `125842.75` |
| `total_difference` | Total difference between blended and unblended costs. | `0.00` |
| `percent_difference` | Percentage difference between total costs. | `0.00` |
| `accounts_with_savings` | Number of accounts that save with unblended costs. | `3` |
| `accounts_paying_more` | Number of accounts that pay more with unblended costs. | `5` |

**Usage Guidance**:
- Quantify the overall impact of using blended vs. unblended for chargeback
- Understand the distribution of benefits across the organization
- Support decisions about reservation purchasing strategies

## Tag Categories and Their Importance

The tables below map each tag to its business purpose and value.

### Technical Tags

| Tag Key | Business Purpose | Example Value | Importance |
|---------|-----------------|---------------|------------|
| `Name` | Resource identification and management | `SkyConnectPassengerApp-EC2` | **High**: Used in all AWS consoles and APIs to identify resources |
| `Environment` | Deployment environment segregation | `Production` | **Critical**: Controls security policies, backup frequency, and access controls |
| `Version` | Release and lifecycle management | `2.0` | **Medium**: Supports application versioning and deployment tracking |
| `AutoShutdown` | Cost optimization for non-production | `weekends` | **High**: Can reduce non-production costs by 30-40% through scheduled shutdowns |
| `BackupFrequency` | Data protection and recovery | `daily` | **High**: Controls recovery capabilities and compliance requirements |
| `DataClassification` | Security and compliance controls | `confidential` | **Critical**: Determines encryption, access, and compliance requirements |

### Business Tags

| Tag Key | Business Purpose | Example Value | Importance |
|---------|-----------------|---------------|------------|
| `Project` | Project-based cost attribution | `SkyConnectPassengerApp` | **Critical**: Primary unit for cost allocation and budgeting |
| `BusinessUnit` | Organizational structure mapping | `Aviation` | **High**: Aligns costs with organizational structure |
| `CostCenter` | Financial accounting alignment | `Aviation-1234` | **Critical**: Connects AWS costs to financial accounting systems |
| `Department` | Team-level cost attribution | `Engineering` | **Medium**: Enables team-level cost management and accountability |
| `Owner` | Responsibility and accountability | `john.doe@example.com` | **High**: Identifies responsible individual for approvals and decisions |
| `Requestor` | Request tracking and auditing | `product-team@example.com` | **Medium**: Tracks who requested resources for audit purposes |

### Compliance Tags

| Tag Key | Business Purpose | Example Value | Importance |
|---------|-----------------|---------------|------------|
| `Compliance:HIPAA` | Healthcare data compliance | `required` | **Critical**: Ensures healthcare data protection compliance |
| `Compliance:PCI` | Payment card data compliance | `in-scope` | **Critical**: Required for processing payment information |
| `Compliance:SOX` | Financial reporting compliance | `in-scope` | **Critical**: Required for financial systems |
| `Compliance:GDPR` | European privacy compliance | `in-scope` | **Critical**: Required for handling European user data |
| `SecurityLevel` | Security control requirements | `high` | **High**: Determines required security controls |
| `ComplianceStatus` | Audit and compliance reporting | `compliant` | **Medium**: Tracks compliance status for auditing |

### Automation Tags

| Tag Key | Business Purpose | Example Value | Importance |
|---------|-----------------|---------------|------------|
| `CreatedBy` | Configuration management tracking | `Terraform` | **Medium**: Tracks creation method for troubleshooting |
| `ManagedBy` | Operational responsibility | `DevOps` | **Medium**: Identifies team responsible for operations |
| `IaC` | Infrastructure as Code management | `true` | **High**: Indicates resources that should not be modified manually |
| `AutoScaling` | Automatic capacity management | `enabled` | **Medium**: Controls whether resource can scale automatically |
| `DeploymentGroup` | Deployment strategy grouping | `blue` | **Medium**: Supports blue/green deployments and canary releases |

### FinOps Tags

| Tag Key | Business Purpose | Example Value | Importance |
|---------|-----------------|---------------|------------|
| `AllowSpotInstance` | Cost optimization flexibility | `true` | **High**: Can reduce costs by 60-90% when enabled |
| `OptimizationPriority` | Balance of cost vs. performance | `cost` | **High**: Guides automated optimization decisions |
| `BudgetAlert` | Cost control and monitoring | `high` | **Medium**: Controls notification thresholds for cost overruns |
| `ScheduledDowntime` | Planned non-usage periods | `weekends` | **High**: Enables cost reduction during known idle periods |
| `Rightsizing` | Instance size optimization status | `optimized` | **Medium**: Tracks optimization status for resources |

### Chargeback/Showback Tags

| Tag Key | Business Purpose | Example Value | Importance |
|---------|-----------------|---------------|------------|
| `CostAllocation` | Cost distribution approach | `Shared` | **Critical**: Determines how costs are allocated |
| `AllocationMethod` | Cost distribution mechanism | `proportional` | **High**: Defines the formula for cost sharing |
| `AllocationPercentages` | Cost splitting configuration | `{"Analytics": 0.40, "Sales": 0.25}` | **High**: Defines exact proportions for shared costs |
| `ChargebackEntity` | Entity for billing | `IT` | **Critical**: Identifies who receives the bill |
| `ShowbackCategory` | Cost reporting grouping | `Production` | **Medium**: Supports cost reporting and analysis |
